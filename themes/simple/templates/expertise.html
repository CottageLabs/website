{% extends "base.html" %}
{% block content %}
<div class="row justify-content-between">
    <div class="content col-lg-8">
        <h1>{{ page.title }}</h1>
        {{ page.content }}
        {% if page.projects %}
        <h2>Featured Projects:</h2>
        <ul class="featured_projects">
            {% for title in page.projects %}
            {% set article = articles | selectattr('title', 'equalto', title) | first %}
            {% if article %}
            <li><a href="{{ SITEURL }}/{{ article.url }}"><div class="project-link">{{ article.title }}</div></a></li>
            {% endif %}
            {% endfor %}
        </ul>
        {% endif %}

        {% if page.tags %}
        <h2>Related Technologies:</h2>
        <div class="related_technologies">
            {% set colors = ["red", "green", "brown"] %}
            {% set vars = {"idx": -1} %}
            {% for slug in page.tags %}
                {% if vars.update({"idx": (vars.idx + 1) % 3}) %}{% endif %}
                <a href="projects/{{ slug|lower }}" class="tag tag--{{ colors[vars.idx] }}">{{ slug }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="col-lg-3">
        {% include "explore.html" %}
    </div>
</div>
{% endblock %}
